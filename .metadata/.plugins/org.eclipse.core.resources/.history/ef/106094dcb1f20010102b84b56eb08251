package com.ElorServ.ElorServ.model; // Fíjate que coincida con tu paquete

import java.util.List;

import com.fasterxml.jackson.annotation.JsonIgnore;

import jakarta.persistence.*;
import lombok.Data;

@Entity
@Data // Esto crea los Getters y Setters automáticamente (gracias a Lombok)
@Table(name = "users") // Nombre exacto de la tabla en tu base de datos SQL
public class User {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(unique = true, nullable = false)
    private String email;

    @Column(unique = true, nullable = false)
    private String username;

    private String password; // En el reto viaja cifrada, pero en BD está texto plano según  SQL.

    private String nombre;
    private String apellidos;
    private String dni;
    
    private String direccion;
    private String telefono1;
    private String telefono2;
    private String argazkia_url; // Foto de perfil

    // Relación con Tipos (Profesor, Alumno...)
    @ManyToOne
    @JoinColumn(name = "tipo_id")
    private Tipo tipo; 
    
 // Opcional: Lista de reuniones donde es profesor (Para JPA)
    // Usamos JsonIgnore para que al pedir el usuario no se descargue toda la lista infinita
    @OneToMany(mappedBy = "profesor")
    @JsonIgnore
    private List<Reunion> reunionesComoProfesor;
}